# SSLå‡çº§æ“ä½œæ¸…å• âœ…

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

### 1. æ–‡ä»¶å‡†å¤‡
- [ ] `server-https.js` - HTTPSæœåŠ¡å™¨æ–‡ä»¶
- [ ] `upgrade-to-ssl.sh` - è‡ªåŠ¨å‡çº§è„šæœ¬  
- [ ] `check-environment.sh` - ç¯å¢ƒæ£€æŸ¥è„šæœ¬
- [ ] `lengthwords.top.key` - é˜¿é‡Œäº‘SSLç§é’¥æ–‡ä»¶
- [ ] `lengthwords.top.pem` - é˜¿é‡Œäº‘SSLè¯ä¹¦æ–‡ä»¶

### 2. ç¯å¢ƒç¡®è®¤
- [ ] ç¡®è®¤é¡¹ç›®è·¯å¾„ä¸º `/www/english-learning-api`
- [ ] ç¡®è®¤å·²å®‰è£…Node.jså’ŒPM2
- [ ] ç¡®è®¤åŸŸå `lengthwords.top` å·²è§£æåˆ°æœåŠ¡å™¨

## ğŸš€ å‡çº§æ­¥éª¤

### ç¬¬1æ­¥ï¼šä¸Šä¼ æ–‡ä»¶
```bash
# å°†æ‰€æœ‰å‡†å¤‡çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸´æ—¶ç›®å½•
# ä¾‹å¦‚: /tmp/ssl-upgrade/
```

### ç¬¬2æ­¥ï¼šç¯å¢ƒæ£€æŸ¥ï¼ˆå¯é€‰ï¼‰
```bash
cd /tmp/ssl-upgrade/
chmod +x check-environment.sh
./check-environment.sh
```

### ç¬¬3æ­¥ï¼šæ‰§è¡Œå‡çº§
```bash
chmod +x upgrade-to-ssl.sh
sudo ./upgrade-to-ssl.sh
```

### ç¬¬4æ­¥ï¼šéªŒè¯ç»“æœ
```bash
# æ£€æŸ¥PM2çŠ¶æ€
pm2 status

# æµ‹è¯•HTTPS API
curl -k https://lengthwords.top/api/test

# æŸ¥çœ‹HTTPSæ—¥å¿—
pm2 logs english-learning-https
```

## ğŸ“± å°ç¨‹åºæ›´æ–°

### ä»£ç ä¿®æ”¹
```javascript
// æ›´æ–°APIåŸºç¡€URL
const API_BASE_URL = 'https://lengthwords.top';
```

### å¾®ä¿¡åå°é…ç½®
1. ç™»å½•å¾®ä¿¡å°ç¨‹åºç®¡ç†åå°
2. è¿›å…¥ `å¼€å‘` â†’ `å¼€å‘ç®¡ç†` â†’ `å¼€å‘è®¾ç½®`  
3. åœ¨ `æœåŠ¡å™¨åŸŸå` ä¸­æ·»åŠ ï¼š`https://lengthwords.top`

## âœ… éªŒæ”¶æ ‡å‡†

- [ ] PM2æ˜¾ç¤º `english-learning-https` æœåŠ¡æ­£å¸¸è¿è¡Œ
- [ ] `curl -k https://lengthwords.top/api/test` è¿”å›æˆåŠŸå“åº”
- [ ] HTTPè¯·æ±‚è‡ªåŠ¨é‡å®šå‘åˆ°HTTPS
- [ ] å°ç¨‹åºèƒ½æ­£å¸¸è°ƒç”¨HTTPS API
- [ ] å¾®ä¿¡å°ç¨‹åºåå°å·²é…ç½®æœåŠ¡å™¨åŸŸå

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 status

# é‡å¯HTTPSæœåŠ¡
pm2 restart english-learning-https

# æŸ¥çœ‹HTTPSæ—¥å¿—
pm2 logs english-learning-https

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs english-learning-https --err

# ç›‘æ§æœåŠ¡
pm2 monit
```

## ğŸ†˜ åº”æ€¥å¤„ç†

### å¦‚æœå‡çº§å¤±è´¥
```bash
# åœæ­¢HTTPSæœåŠ¡
pm2 stop english-learning-https
pm2 delete english-learning-https

# æ£€æŸ¥åŸHTTPæœåŠ¡
pm2 restart english-learning-api
```

### å¦‚æœéœ€è¦å›æ»š
```bash
cd /www/english-learning-api
cp backup-*/server.js ./
cp backup-*/ecosystem.config.js ./
pm2 restart english-learning-api
```

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹å‡çº§è„šæœ¬çš„è¾“å‡ºæ—¥å¿—
2. æ£€æŸ¥PM2æœåŠ¡æ—¥å¿—ï¼š`pm2 logs english-learning-https --err`
3. éªŒè¯é˜²ç«å¢™å’Œå®‰å…¨ç»„è®¾ç½®
4. ç¡®è®¤SSLè¯ä¹¦æ–‡ä»¶æƒé™

---

ğŸ¯ **ç›®æ ‡**: æˆåŠŸä¸ºç°æœ‰çš„è‹±è¯­å­¦ä¹ å°ç¨‹åºåç«¯æ·»åŠ HTTPSæ”¯æŒï¼Œç¡®ä¿å°ç¨‹åºèƒ½å¤Ÿå®‰å…¨è®¿é—®APIï¼
